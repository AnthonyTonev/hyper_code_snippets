{
        "title": "react_tic_tac_toe",
        "description": "",
        "files":["react.js","index.html"],
        "code":"{\"0\":\"const { useState, useEffect, createContext, useContext } = React;\\nconst scoresContext = createContext([0, 0]);\\nconst matrix = (x, y, v) =>\\n  Array(x)\\n    .fill(0)\\n    .map((g) => Array(y).fill(v));\\nconst CHARS = [\\\"O\\\", \\\"X\\\"];\\nconst playerWin = (grid, p, callback) => {\\n  const P = (g) => g === p;\\n  if (\\n    grid[0].every(P) ||\\n    grid[1].every(P) ||\\n    grid[2].every(P) ||\\n    [grid[0][0], grid[1][1], grid[2][2]].every(P) ||\\n    [grid[2][0], grid[1][1], grid[0][2]].every(P) ||\\n    [grid[0][0], grid[1][0], grid[2][0]].every(P) ||\\n    [grid[0][1], grid[1][1], grid[2][1]].every(P) ||\\n    [grid[0][2], grid[1][2], grid[2][2]].every(P)\\n  ) {\\n    callback();\\n    return true;\\n  } else return false;\\n};\\nconst nobodyWins = (turnCount, callback) => {\\n  if (turnCount === 9) {\\n    callback();\\n    return true;\\n  } else return false;\\n};\\n\\nconst TicTacToe = ({ autoReset }) => {\\n  const scores = useContext(scoresContext);\\n  const setScore = (player, score) => (scores[player] = score);\\n  const [loading, setLoading] = useState(true);\\n  const [turn, setTurn] = useState(null);\\n  const [grid, setGrid] = useState([]);\\n  const [message, setMessage] = useState(\\\"\\\\u00a0\\\");\\n  const [count, setCount] = useState(1);\\n  const [block, blockGame] = useState(true);\\n  useEffect(() => {\\n    setTurn(0);\\n    setCount(1);\\n    setGrid(matrix(3, 3, null));\\n    setLoading(false);\\n    blockGame(false);\\n  }, [loading]);\\n\\n  const playTurn = (i, j, el) => {\\n    if (!block && grid[i][j] === null) {\\n      grid[i][j] = turn;\\n      el.textContent = CHARS[turn];\\n      setGrid(grid);\\n      if (\\n        playerWin(grid, turn, () => {\\n          setMessage(`player ${CHARS[turn]} wins`);\\n          setScore(turn, scores[turn] + 1);\\n        }) ||\\n        nobodyWins(count, () => setMessage(\\\"Nobody wins\\\"))\\n      ) {\\n        blockGame(true);\\n        setTimeout(() => {\\n          if (autoReset) {\\n            setLoading(true);\\n            setMessage(\\\"\\\\u00a0\\\");\\n          }\\n        }, 1500);\\n      }\\n      setTurn(1 - turn);\\n      setCount(count + 1);\\n    }\\n  };\\n  const cellSize = 200;\\n  return (\\n    !loading && (\\n      <div\\n        style={{\\n          textAlign: \\\"center\\\",\\n          grid: \\\"auto\\\",\\n          maxWidth: (cellSize + cellSize * 0.2) * 3 + \\\"px\\\",\\n        }}\\n      >\\n        {matrix(3, 3, 0).map((row, i) =>\\n          row.map((col, j) => (\\n            <button\\n              onClick={(e) => playTurn(i, j, e.target)}\\n              style={{\\n                width: cellSize + \\\"px\\\",\\n                height: cellSize + \\\"px\\\",\\n                margin: 0.3 + \\\"%\\\",\\n                background: \\\"transparent\\\",\\n                border: \\\"2px solid white\\\",\\n                color: \\\"white\\\",\\n                fontWeight: 900,\\n                fontSize: \\\"55px\\\",\\n                cursor: \\\"pointer\\\",\\n              }}\\n              key={i + j}\\n            >\\n              {\\\"\\\\u00a0\\\"}\\n            </button>\\n          ))\\n        )}\\n        <p\\n          style={{\\n            color: \\\"white\\\",\\n            fontSize: \\\"30px\\\",\\n            fontFamily: \\\"Consolas\\\",\\n            fontWeight: 900,\\n          }}\\n        >\\n          {message}\\n        </p>\\n        <pre\\n          style={{\\n            textAlign: \\\"center\\\",\\n            color: \\\"white\\\",\\n            fontSize: \\\"30px\\\",\\n            fontFamily: \\\"Consolas\\\",\\n            fontWeight: 900,\\n          }}\\n        >\\n          {`Turn:${count}\\\\n${scores\\n            .map((s, i) => `${CHARS[i]}:${s}`)\\n            .join(\\\" / \\\")}`}\\n        </pre>\\n      </div>\\n    )\\n  );\\n};\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <TicTacToe autoReset={true} />\\n  </React.StrictMode>,\\n  document.getElementById(\\\"root\\\")\\n);\\n\",\"1\":\"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Document</title>\\n   <style>\\n     body{\\n      background:black;\\n     }\\n  </style>\\n</head>\\n \\n<body>\\n<script src=\\\"https://unpkg.com/@babel/standalone/babel.min.js\\\"></script>  \\n<script crossorigin src=\\\"https://unpkg.com/react@17/umd/react.production.min.js\\\"></script>\\n<script crossorigin src=\\\"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js\\\"></script>\\n <script type=\\\"text/babel\\\" data-type=\\\"module\\\" src=\\\"./react.js\\\"></script>\\n  <div id=\\\"root\\\"></div>\\n</body>\\n\\n</html>\"}"
}
